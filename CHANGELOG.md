# 📋 更新日志 (CHANGELOG)

## [2.0.1] - 2025-01-09

### ✨ 新增功能
- **默认模型选择功能**：为每个AI提供商支持设置默认模型
  - 在配置管理页面可以为每个提供商设置默认模型
  - 主界面选择提供商后自动选择对应的默认模型
  - 配置持久化保存，提升用户体验

### 🔧 技术改进
- **提供商配置结构优化**：
  - `ProviderConfig` 类添加 `default_model` 字段
  - `ProviderManager` 类增加 `set_default_model()` 和 `get_default_model()` 方法
  - 配置状态接口返回默认模型信息

- **配置UI界面增强**：
  - 添加默认模型下拉选择框
  - 新增"设置为默认模型"按钮
  - 提供商切换时自动显示当前默认模型

- **主界面逻辑优化**：
  - `update_models_dropdown()` 函数支持默认模型选择
  - `get_models_for_current_provider()` 返回默认模型信息
  - 切换提供商时自动选择默认模型

### 🧪 测试验证
- 新增 `test_default_model.py` 测试脚本
- 全面测试7个AI提供商的默认模型功能
- 验证配置持久化和界面交互

### 📁 文件修改
- `providers.py`: 添加默认模型管理功能
- `config_ui.py`: 更新配置界面支持默认模型选择
- `run.py`: 修改主界面逻辑支持默认模型
- `test_default_model.py`: 新增测试文件

---

## [2.0.0] - 2025-01-08

### 🎉 重大更新 - "Multi-AI Genesis"
- 从单一AI提供商升级为多AI提供商智能创作平台
- 支持7个主流AI提供商（DeepSeek、阿里云通义千问、智谱AI GLM、Google Gemini、OpenRouter、LM Studio、Claude）
- 实时监控系统：API调用监控、成本追踪、性能统计
- 智能配置管理：Web界面配置、API密钥验证、配置导入导出
- OpenRouter深度集成：400+开源和商业模型支持，智能模型筛选
- 跨平台启动方案：Windows/macOS/Linux统一启动脚本
- 虚拟环境优化：从conda环境迁移到项目本地venv

### 🔧 技术改进
- API调用优化：5秒超时、智能重试、错误处理
- 系统提示词架构：用户提示词前置，保持默认系统提示词
- 响应式界面：现代化Gradio界面，实时状态显示
- 安全性增强：API密钥本地存储，配置隔离
- 代码重构：模块化设计，提升可维护性

### 📋 完整更新日志
- 虚拟环境架构更新
- API调用问题修复
- AI提供商设置优化
- 升级完成总结

---

## [1.0.0] - 2024-12-XX

### 🎯 初始版本
- 基于原始 gpt-story-genius 项目
- 支持基本的AI小说创作功能
- 使用单一AI提供商
- 基础的Web界面

---

## 📝 更新说明

### 版本命名规则
- 主版本号：重大架构更新
- 次版本号：新功能添加
- 修订号：Bug修复和小改进

### 更新类型说明
- ✨ 新增功能
- 🔧 技术改进
- 🐛 Bug修复
- 📝 文档更新
- 🧪 测试相关
- 📁 文件结构调整

### 获取最新版本
```bash
git pull origin main
```

### 反馈与建议
如有问题或建议，请在 GitHub 提交 Issue 或 Pull Request。